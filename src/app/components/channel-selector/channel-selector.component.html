<div class="channel-selector">
  <!-- Floating Remote Button -->
  <button class="remote-button" (click)="toggleMenu()" [class.active]="isMenuOpen()">
    <!-- Desktop Icon (Arrow Up/Down) -->
    <svg class="icon-desktop" xmlns="http://www.w3.org/2000/svg" width="32" height="32" viewBox="0 0 24 24" fill="none"
      stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
      <path d="M18 15l-6-6-6 6" />
    </svg>
    <!-- Mobile Icon (Arrow Right/Left) -->
    <svg class="icon-mobile" xmlns="http://www.w3.org/2000/svg" width="32" height="32" viewBox="0 0 24 24" fill="none"
      stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
      <path d="M9 18l6-6-6-6" />
    </svg>
  </button>

  <!-- Side Menu (Remote Body) -->
  <div class="menu-overlay" [class.hidden]="!isMenuOpen()" (click)="toggleMenu()"></div>
  <div class="side-menu" [class.open]="isMenuOpen()" (click)="$event.stopPropagation()">

    <!-- Vintage Header -->
    <div class="remote-header">
      <span class="brand-text">NMTV</span>

      <div class="power-off-container">
        <div class="green-dot"></div>
        <button class="power-off-button" (click)="turnOff()">
          <i class="bi bi-power"></i>
        </button>
        <span class="power-off-text">Power</span>
      </div>

      <span class="model-text">STEREO SOUND</span>
    </div>

    <div class="channel-list">
      @for (channel of channels; track channel.id) {
      <button class="channel-item" [class.active]="isActive(channel.id)" (click)="selectChannel(channel.id)">
        <span class="channel-icon">{{ channel.icon }}</span>
        <span class="channel-name">{{ channel.name }}</span>
      </button>
      }
    </div>

    <div class="menu-actions">
      <button class="settings-button" (click)="openSettings()">
        <span class="settings-icon">üõ†Ô∏è</span>
        <span class="settings-text">Custom Playlists</span>
      </button>
      <button class="about-button" (click)="openAbout()">
        <span class="about-icon">üí°</span>
        <span class="about-text">Unpack NMTV</span>
      </button>

      <button class="old-tv-button" (click)="toggleOldTV()" [class.active]="oldTVEnabled()">
        <div class="toggle-content">
          <span class="old-tv-icon">‚ú®</span>
          <span class="old-tv-text">Vintage</span>
        </div>
        <div class="toggle-switch">
          <div class="toggle-track">
            <div class="toggle-thumb"></div>
          </div>
        </div>
      </button>

      @if (shouldShowFullScreen()) {
      <button class="fullscreen-button" (click)="toggleFullscreen()" [class.active]="isFullscreen()">
        <div class="toggle-content">
          <span class="fullscreen-icon">‚õ∂</span>
          <span class="fullscreen-text">Fullscreen</span>
        </div>
        <div class="toggle-switch">
          <div class="toggle-track">
            <div class="toggle-thumb"></div>
          </div>
        </div>
      </button>
      }
    </div>
  </div>

  <!-- Modals -->
  <app-settings-modal></app-settings-modal>
  <app-about-modal></app-about-modal>
</div>