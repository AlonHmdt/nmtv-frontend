<div class="crt-off-screen" [class.powering-on]="isAnimating()"
  [class.animation-complete]="!isAnimating() && isPoweredOn()">
  @if (!isAnimating()) {
  <div class="remote-body">
    <div class="remote-header">
      <img src="/images/nmtv-logo.png" alt="NMTV" class="nmtv-logo">
    </div>

    <div class="power-section">
      <div class="power-label">POWER</div>
      <button class="power-button" (click)="onPowerClick()" [disabled]="isLoading()">
        <div class="button-inner">
          @if (isLoading()) {
          <svg class="spinner" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor"
            stroke-width="2">
            <circle cx="12" cy="12" r="10" stroke-opacity="0.25" />
            <path d="M12 2a10 10 0 0 1 10 10" stroke-linecap="round" />
          </svg>
          } @else {
          <i class="bi bi-power"></i>
          }
        </div>
      </button>
      <div class="power-indicator" [class.loading]="isLoading()" [class.ready]="!isLoading()"></div>
    </div>

    <div class="power-text">
      @if (showLoadingContent()) {
      <div class="loading-container" [class.fade-out]="isFadingOut()">
        <div class="loading-text">INITIALIZING...</div>
        <div class="progress-bar-container">
          <div class="progress-bar-bg">
            <div class="progress-bar-fill" [style.width.%]="loadingProgress()"></div>
          </div>
          <div class="progress-text">{{ loadingProgress() }}%</div>
        </div>
      </div>
      } @else {
      <span class="desktop">POWER ON/HIT ENTER TO START</span>
      <span class="mobile">POWER ON TO START</span>
      }
    </div>

    <div class="user-guide">
      @if (isAndroidTVSignal()) {
      <div class="guide-item desktop keyboard-hints">
        <div class="hint-row">
          <span class="hint-group horizontal">
            <div class="keys-inline">
              <span class="key-hint"><i class="bi bi-arrow-up"></i></span>
              <span class="key-hint"><i class="bi bi-arrow-down"></i></span>
            </div>
            <span class="hint-label">Switch Channel</span>
          </span>
        </div>
        <div class="hint-row">
          <span class="hint-group horizontal">
            <div class="keys-inline">
              <span class="key-hint"><i class="bi bi-arrow-left"></i></span>
              <span class="key-hint"><i class="bi bi-arrow-right"></i></span>
            </div>
            <span class="hint-label">Volume Control</span>
          </span>
        </div>
        <div class="hint-row">
          <span class="hint-group horizontal">
            <span class="key-hint">CENTER</span>
            <span class="hint-label">Select</span>
          </span>
          <span class="hint-group horizontal">
            <span class="key-hint">HOLD CENTER</span>
            <span class="hint-label">Menu Toggle</span>
          </span>
        </div>
        <div class="hint-row">
          <span class="hint-group horizontal">
            <div class="arrow-keys-compact">
              <div class="arrow-row">
                <span class="key-hint"><i class="bi bi-arrow-up"></i></span>
              </div>
              <div class="arrow-row">
                <span class="key-hint"><i class="bi bi-arrow-left"></i></span>
                <span class="key-hint"><i class="bi bi-arrow-down"></i></span>
                <span class="key-hint"><i class="bi bi-arrow-right"></i></span>
              </div>
            </div>
            <span class="hint-label">In Menu</span>
          </span>
        </div>
      </div>
      } @else {
      <div class="guide-item desktop keyboard-hints">
        <div class="hint-row">
          <span class="hint-group horizontal">
            <div class="keys-inline">
              <span class="key-hint"><i class="bi bi-arrow-up"></i></span>
              <span class="key-hint"><i class="bi bi-arrow-down"></i></span>
            </div>
            <span class="hint-label">Switch Channel</span>
          </span>
        </div>
        <div class="hint-row">
          <span class="hint-group horizontal">
            <div class="keys-inline">
              <span class="key-hint"><i class="bi bi-arrow-left"></i></span>
              <span class="key-hint"><i class="bi bi-arrow-right"></i></span>
            </div>
            <span class="hint-label">Volume Control</span>
          </span>
        </div>
        <div class="hint-row">
          <span class="hint-group horizontal">
            <span class="key-hint">SPACE</span>
            <span class="hint-label">Menu Toggle</span>
          </span>
          <span class="hint-group horizontal">
            <span class="key-hint">ENTER</span>
            <span class="hint-label">Select</span>
          </span>
        </div>
        <div class="hint-row">
          <span class="hint-group horizontal">
            <div class="arrow-keys-compact">
              <div class="arrow-row">
                <span class="key-hint"><i class="bi bi-arrow-up"></i></span>
              </div>
              <div class="arrow-row">
                <span class="key-hint"><i class="bi bi-arrow-left"></i></span>
                <span class="key-hint"><i class="bi bi-arrow-down"></i></span>
                <span class="key-hint"><i class="bi bi-arrow-right"></i></span>
              </div>
            </div>
            <span class="hint-label">In Menu</span>
          </span>
        </div>
      </div>
      }
      @if (!isAndroidTVSignal()) {
      <div class="guide-item mobile">
        <span class="hint-label">SWIPE UP/DOWN TO CHANGE CHANNEL</span>
      </div>
      }
    </div>
  </div>
  }

  @if (isAnimating()) {
  <canvas #staticCanvas class="power-static-canvas"></canvas>
  }
</div>